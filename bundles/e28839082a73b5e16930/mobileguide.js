(()=>{var e={"./node_modules/loglevel/lib/loglevel.js":function(e,t,n){var o,r;!function(){"use strict";o=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],r={},i=null;function l(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(o){return"debug"===o&&(o="log"),typeof console!==t&&("trace"===o&&n?c:void 0!==console[o]?l(console,o):void 0!==console.log?l(console,"log"):e)}function a(){for(var n=this.getLevel(),r=0;r<o.length;r++){var i=o[r];this[i]=r<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(a.call(this),this[e].apply(this,arguments))}}function f(e,t,n){return s(e)||u.apply(this,arguments)}function d(e,n){var l,c,s,u=this,d="loglevel";function v(e){var n=(o[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}function p(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,o=encodeURIComponent(d),r=n.indexOf(o+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r+o.length+1))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}function m(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function g(e){var t=e;if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=u.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||f,u.getLevel=function(){return null!=s?s:null!=c?c:l},u.setLevel=function(e,t){return s=g(e),!1!==t&&v(s),a.call(u)},u.setDefaultLevel=function(e){c=g(e),p()||u.setLevel(e,!1)},u.resetLevel=function(){s=null,m(),a.call(u)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)},u.rebuild=function(){if(i!==u&&(l=g(i.getLevel())),a.call(u),i===u)for(var e in r)r[e].rebuild()},l=g(i?i.getLevel():"WARN");var h=p();null!=h&&(s=g(h)),a.call(u)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new d(e,i.methodFactory)),t};var v=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=v),i},i.getLoggers=function(){return r},i.default=i,i},void 0===(r="function"==typeof o?o.call(t,n,t,e):o)||(e.exports=r)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{if(void 0!==n){var e=n.u,t=n.e,o={},r={};n.u=function(t){return e(t)+(o.hasOwnProperty(t)?"?"+o[t]:"")},n.e=function(i){return t(i).catch((function(t){var l=r.hasOwnProperty(i)?r[i]:3;if(l<1){var c=e(i);throw t.message="Loading chunk "+i+" failed after 3 retries.\n("+c+")",t.request=c,t}return new Promise((function(e){setTimeout((function(){var t=Date.now();o[i]=t,r[i]=l-1,e(n.e(i))}),500)}))}))}}})(),(()=>{"use strict";var e=n("./node_modules/loglevel/lib/loglevel.js"),t=n.n(e);const o="matrix";function r(e){const n=e;n.getChild=n.withPrefix=function(e){return function(e){const n=t().getLogger(`${o}-${e}`);n.prefix!==e&&(r(n),n.prefix=e,n.setLevel(t().levels.DEBUG,!1));return n}((this.prefix||"")+e)}}t().methodFactory=function(e,t,n){return function(...t){this.prefix&&t.unshift(this.prefix);return"error"===e||"warn"===e||"trace"===e||"info"===e||"debug"===e?console[e](...t):console.log(...t)}};const i=t().getLogger(o);i.setLevel(t().levels.DEBUG,!1),r(i);async function l(e){const t=new URL(e,window.location.href);t.searchParams.set("cachebuster",Date.now().toString());const n=await fetch(t,{cache:"no-cache",method:"GET"});return 404===n.status||0===n.status?{}:n.ok?n.json():void 0}function c(){document.cookie="element_mobile_redirect_to_guide=false;path=/;max-age=14400",window.location.href="../"}function s(e){e=`<h2>Error loading Element</h2><p>${e}</p><p>If this is unexpected, please contact your system administrator or technical support representative.</p>`;const t=document.getElementsByClassName("mx_HomePage_container"),n=document.getElementsByClassName("mx_HomePage_errorContainer");for(const e of t)e.innerHTML="";for(const t of n)t.style.display="block",t.innerHTML=e}!async function(){var e;document.getElementById("back_to_element_button").onclick=c;const t=await async function(e=""){""===e||e.endsWith("/")||(e+="/");let t=window.location.hostname.trimEnd();t.endsWith(".")&&(t=t.slice(0,-1));const n=l(`${e}config.${t}.json`),o=l(e+"config.json");try{const e=await n;if(!e||0===Object.keys(e).length)throw new Error;return e}catch{return o}}(".."),n=null==t?void 0:t.default_server_config,o=null==t?void 0:t.default_server_name,r=null==t?void 0:t.default_hs_url,a=null==t?void 0:t.default_is_url,u=[n,o,r].filter((e=>!!e));if(r&&(n||o))return s("Invalid configuration: a default_hs_url can't be specified along with default_server_name or default_server_config");if(u.length<1)return s("Invalid configuration: no default server specified.");let f,d;var v;if(o||"string"!=typeof(null==n||null===(e=n["m.homeserver"])||void 0===e?void 0:e.base_url)||(f=n["m.homeserver"].base_url,"string"==typeof(null===(v=n["m.identity_server"])||void 0===v?void 0:v.base_url)&&(d=n["m.identity_server"].base_url)),o)try{const e=await fetch(`https://${o}/.well-known/matrix/client`),t=await e.json();null!=t&&t["m.homeserver"]&&(f=t["m.homeserver"].base_url,t["m.identity_server"]&&(d=t["m.identity_server"].base_url))}catch(e){if(null==n||!n["m.homeserver"])return i.error(e),s("Unable to fetch homeserver configuration");f=n["m.homeserver"].base_url||void 0,n["m.identity_server"]&&(d=n["m.identity_server"].base_url||void 0)}if(r&&(f=r,d=a),!f)return s("Unable to locate homeserver");if(f&&!f.endsWith("/")&&(f+="/"),d&&!d.endsWith("/")&&(d+="/"),"https://matrix.org/"!==f){let e="https://mobile.element.io?hs_url="+encodeURIComponent(f);var p;if(d)document.getElementById("custom_is").style.display="block",document.getElementById("is_url").style.display="block",document.getElementById("is_url").innerText=d,e+="&is_url="+encodeURIComponent(null!==(p=d)&&void 0!==p?p:"");document.getElementById("configure_element_button").href=e,document.getElementById("step1_heading").innerHTML="1: Install the app",document.getElementById("step2_container").style.display="block",document.getElementById("hs_url").innerText=f}}()})()})();
//# sourceMappingURL=mobileguide.js.map